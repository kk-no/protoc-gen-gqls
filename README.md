# protoc-gen-gqls
protoc-gen-gqls is a protoc plugin that generates graphql schema (.glaphqls) from Protocol Buffers.

## Use
```
$ protoc --plugin=protoc-gen-gqls --gqls_out=DIR example/proto/*.proto
```

## Output example

.proto
```protobuf
syntax = "proto3";

package example;

import "google/api/annotations.proto";
import "google/type/date.proto";

service ExampleService {
    rpc Ping(PingRequest) returns (PingResponse) {
        option (google.api.http) = {
            get: "*"
        };
    };
    rpc Sample(SampleRequest) returns (SampleResponse) {
        option (google.api.http) = {
            post: "*"
        };
    };
}

message PingRequest {}

message PingResponse {}

message SampleRequest {
    int32 id = 1;
    string name = 2;
    bool flag = 3;
    Environment env = 4;
    google.type.Date date = 5;
}

message SampleResponse {
    int32 id = 1;
    string name = 2;
    repeated ResponseContent contents = 3;
}

message ResponseContent {
    string name = 1;
    string data = 2;
    google.type.Date date = 3;
    bool active = 4;
}

enum Environment {
  ENVIRONMENT_UNKNOWN = 0;
  DEVELOPMENT = 1;
  STAGING = 2;
  PRODUCTION = 3;
}
```

.graphqls
```graphql
# Generated by protoc-gen-gqls.
type Query {
    Ping(req: PingRequest): PingResponse
}

type Mutation {
    Sample(req: SampleRequest): SampleResponse
}

input PingRequest {
    _: Boolean # noop field
}

type PingResponse {
    _: Boolean # noop field
}

input SampleRequest {
    id: Int
    name: String
    flag: Boolean
    env: Environment
    date: String
}

type SampleResponse {
    id: Int
    name: String
    contents: [ResponseContent]
}

type ResponseContent {
    name: String
    data: String
    date: String
    active: Boolean
}

enum Environment {
    ENVIRONMENT_UNKNOWN
    DEVELOPMENT
    STAGING
    PRODUCTION
}

```